<!DOCTYPE html>
<html>
    <head>
        <title>Expens</title>
        <style>

        </style>
    </head>
    <body>
        <h1 id='bookName'></h1>

        <script src="/socket.io/socket.io.js"></script>
        <script>
            var socket = io();

            // get path from current URL
            let book = window.location.pathname.slice(6);   // remove leading /book/
            let pos = book.indexOf('/');
            if (pos !== -1) {
                book = book.slice(0, pos);
            }
            socket.emit("open book", book);
            console.log("retreiving book info for: " + book);

            socket.on('book', function(book) {
                console.log("Book ID: " + book);
                var bookName = document.getElementById('bookName');
                bookName.textContent = book;
            });
        </script>
    </body>
</html>